<html lang="en">
    <head>
        <title>Biph Flora</title>
        <style>
            .links{
                display: flex;
                align-items: center;
                justify-content: center;
            }
            h1{
                text-align: center;
            }

            #linkBar {
                border-collapse: collapse;
                border: 2px solid;
            }

            a {
                display: inline-block;
                border: 1px solid black;
                padding: 10px 20px;
                margin: 0;
            }

            #featuredColumn {
                border: solid black 2px;
                height: 40%;
                position: relative;
                width: 95%;
                margin-left: auto;
                margin-right: auto;
                display: flex;
            }

            .postlayout{
                display: flex;
                justify-content: center;
                align-items: center
            }
            img{
                max-width: 300px; 
                height: auto;
            }
            .posts{
                flex: 1;
            }
        </style>
    </head>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <body>
        <div id="topBar">
            <h1>BIPH FLORA</h1>
            <div class="links">
                <table id="linkBar">
                    <tr>
                        <td><a class="linkBarLink" href="home">Home</a></td>
                        <td><a class="linkBarLink" href="databse">Database</a></td>
                        <td><a class="linkBarLink" href="creation">Creation</a></td>
                        <td><a class="linkBarLink" href="activities">Activities</a></td>
                        <td><a class="linkBarLink" href="journey">Journey</a></td>
                        <td><a class="linkBarLink" href="aboutUs">About us</a></td>
                        <td><a class="linkBarLink" href="registration">Registration</a></td>
                    </tr>
                </table>
            </div>
        </div>
        <br>
        <div id="featuredColumn">
            <button id="prevBtn">上一个</button>
            <% posts.forEach(function(post, index) { %>
              <div class="posts">
                <div class="featuredColumnTitle"><%= post.featuredColumnTitle %></div>
                <div class="featuredColumnContent"><%= post.featuredColumnContent %></div>
                <div class="featuredColumnCaptions"><%= post.featuredColumnCaptions %></div>
                <div class="postlayout">
                  <% post.pictureUrl.forEach(function(image) { %>
                    <img src="./uploads/<%= image.filename %>" alt="<%= image.filename %>">
                  <% }); %>
                </div>
              </div>
            <% }); %>
            <button id="nextBtn">下一个</button>
        </div>
        <div id="bottomHalf">
            <h1>Database for campus species 校内植物检索数据库</h1>
            <div id="searchBar">
                <form method="POST" action="/searchResults">
                    <input type="text" name="topic" id="topic">
                    <button type="submit">Search</button>
                    <div id="resultsContainer"></div>
                </form>
            </div>
            <h3># of Plant species inside of our campus</h3>
            <h3></h3>
            <h3># of Plant species recorded inside the database</h3>
            <a href="showFullList">Show full list</a>
        </div>
        <script>
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const posts = document.querySelectorAll('.post');
            const maxIndex = '<%= posts.length - 1 %>'; // Assuming posts is an array-like object
        
            let currentIndex = 0;
        
            prevBtn.addEventListener('click', () => {
                currentIndex = (currentIndex - 1 + maxIndex) % maxIndex;
            });
            
            nextBtn.addEventListener('click', () => {
                currentIndex = (currentIndex + 1) % maxIndex;
            });
        </script>
    </body>
</html>