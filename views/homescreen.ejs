<html lang="en">
    <head>
        <title>Biph Flora</title>
        <style>
            .links{
                display: flex;
                align-items: center;
                justify-content: center;
            }
            h1{
                text-align: center;
            }

            #linkBar {
                border-collapse: collapse;
                border: 2px solid;
            }

            a {
                display: inline-block;
                border: 1px solid black;
                padding: 10px 20px;
                margin: 0;
            }

            .featuredColumn {
                border: solid black 2px;
                height: 40%;
                position: relative;
                width: 95%;
                margin-left: auto;
                margin-right: auto;
                display: flex;
            }

            .postlayout{
                display: flex;
                justify-content: center;
                align-items: center
            }
            img{
                max-width: 300px; 
                height: auto;
            }
            .posts{
                flex: 1;
            }
        </style>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    </head>
    <body>
        <div id="topBar">
            <h1>BIPH FLORA</h1>
            <div class="links">
                <table id="linkBar">
                    <tr>
                        <td><a class="linkBarLink" href="home">Home</a></td>
                        <td><a class="linkBarLink" href="databse">Database</a></td>
                        <td><a class="linkBarLink" href="creation">Creation</a></td>
                        <td><a class="linkBarLink" href="activities">Activities</a></td>
                        <td><a class="linkBarLink" href="journey">Journey</a></td>
                        <td><a class="linkBarLink" href="aboutUs">About us</a></td>
                        <td><a class="linkBarLink" href="registration">Registration</a></td>
                    </tr>
                </table>
            </div>
        </div>
        <br>
        <div class="featuredColumn">
                <button id="prevBtn">上一个</button>
                <div class="posts" id="posta"></div>
                <button id="nextBtn">下一个</button>
            <script>
                let currentIndex = 0;
            
                function updatePost(currentIndex) {
                    document.getElementById("posta").innerHTML = `
                        <div class="featuredColumnTitle"><%= posts[0].featuredColumnTitle %></div>
                        <div class="featuredColumnContent"><%= posts[0].featuredColumnContent %></div>
                        <div class="featuredColumnCaptions"><%= posts[0].featuredColumnCaptions %></div>
                        <div class="postlayout">
                            <% posts[0].pictureUrl.forEach(function(image) { %>
                          <img src="./uploads/<%= image.filename %>" alt="<%= image.filename %>">
                        <% }); %>
                        </div>
                    `;
                }
            
                document.getElementById("prevBtn").addEventListener('click', () => {
                    if (currentIndex > 0) {
                        currentIndex -= 1;
                        updatePost();
                    }
                });
            
                document.getElementById("nextBtn").addEventListener('click', () => {
                    if (currentIndex < posts.length - 1) {
                        currentIndex += 1;
                        updatePost();
                    }
                });
                updatePost();
            </script>
        </div>
        <div id="bottomHalf">
            <h1>Database for campus species 校内植物检索数据库</h1>
            <div id="searchBar">
                <form method="POST" action="/searchResults">
                    <input type="text" name="topic" id="topic">
                    <button type="submit">Search</button>
                    <div id="resultsContainer"></div>
                </form>
            </div>
            <h3># of Plant species inside of our campus</h3>
            <h3></h3>
            <h3># of Plant species recorded inside the database</h3>
            <a href="showFullList">Show full list</a>
        </div>
    </body>
</html>